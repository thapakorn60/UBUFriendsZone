<ion-app>
    <ion-menu side="start" content-id="main-content">
        <ion-header>
            <ion-toolbar translucent color="dark">
                <ion-title color="light">Menu</ion-title>
            </ion-toolbar>
        </ion-header>
        <ion-content>
            <ion-list>
                <!-- <ion-list-header>
                    <ion-label>สวัสดี, {{ data_user_login.name }}</ion-label>
                </ion-list-header> -->
                <!-- <ion-card [hidden]="shouldHide">
                    <ion-card-header>
                        Card Header
                    </ion-card-header>
                    <ion-card-content>
                        Hello World
                    </ion-card-content>
                </ion-card> -->
                <ion-item href="appointments">
                    <ion-icon name="calendar" slot="start"></ion-icon>
                    <ion-label>ตารางนัด</ion-label>
                </ion-item>
                <ion-item href="history">
                    <ion-icon name="time" slot="start"></ion-icon>
                    <ion-label>ประวัติการเข้าร่วม</ion-label>
                </ion-item>
                <ion-card>
                    <ion-item>
                        <ion-icon name="notifications" slot="start"></ion-icon>
                        <ion-label>แจ้งเตือน</ion-label>
                        <ion-badge id="notifications-badge" color="danger">4</ion-badge>
                    </ion-item>
                    <ion-item href="notifications">
                        <ion-label>Notifications</ion-label>
                    </ion-item>
                    <ion-item href="my-event">
                        <ion-label>My event</ion-label>
                    </ion-item>
                    <!-- <ion-item href="noti-events">
                        <ion-label>My event</ion-label>
                    </ion-item> -->
                    <!-- my-event -->
                    <ion-item href="notirequest">
                        <ion-label>Request</ion-label>
                    </ion-item>
                </ion-card>
                <ion-item (click)='logOut()'>
                    <ion-icon name="log-out" slot="start"></ion-icon>
                    <ion-label>Logout</ion-label>
                </ion-item>

            </ion-list>
        </ion-content>
    </ion-menu>

    <div class="ion-page" id="main-content">
        <ion-header>
            <ion-toolbar color="warning">
                <ion-row>
                    <ion-col class="ion-align-self-center">
                        <ion-buttons>
                            <ion-menu-button></ion-menu-button>
                        </ion-buttons>
                    </ion-col>
                    <ion-col></ion-col>
                    <ion-col></ion-col>
                    <ion-col></ion-col>
                    <ion-col class="ion-align-self-center">
                        <ion-button href="notifications" color="dark" fill="clear" size="large">
                            <ion-icon expand="block" name="notifications"></ion-icon>
                            <ion-badge id="notifications-badge" color="danger"></ion-badge>
                        </ion-button>
                    </ion-col>

                    <ion-col>
                        <!-- <p>{{userEmail}}</p> -->
                        <ion-item href="profile" color="warning">
                            <ion-avatar>
                                <!-- <ion-img [src]="user.photoURL"></ion-img> -->
                                <ion-icon size="large" name="person-circle"></ion-icon>
                            </ion-avatar>
                        </ion-item>
                    </ion-col>
                </ion-row>

                <ion-item color="warning">
                    <ion-label>หมวดหมู่</ion-label>
                    <ion-select placeholder="เลือก" multiple="true" color="success">
                        <ion-select-option value="all">ทั้งหมด</ion-select-option>
                        <ion-select-option value="food">อาหาร</ion-select-option>
                        <ion-select-option value="sports">กีฬา</ion-select-option>
                        <ion-select-option value="media">บันเทิง</ion-select-option>
                        <ion-select-option value="edu">การศึกษา</ion-select-option>
                        <ion-select-option value="valun">กิจกรรมอาสา</ion-select-option>
                        <ion-select-option value="other">อื่นๆ</ion-select-option>
                    </ion-select>
                </ion-item>

                <ion-item color="warning">
                    <ion-row>
                        <ion-col>
                            <ion-label position="stacked">วันที่</ion-label>
                            <ion-input type="date" [(ngModel)]="datecate" displayFormat="DD/MM/YYYY"></ion-input>
                            <!-- <ion-input type="date" [(ngModel)]="Post.datetime" name="datetime" displayFormat="D MMM YYYY H:mm" min="2020" max="2025" value="2005-06-17T11:06Z" placeholder="เลือกเวลา"></ion-input> -->
                        </ion-col>
                        <ion-col>
                            <ion-label position="stacked">ตั้งแต่เวลา</ion-label>
                            <ion-datetime type="date" [(ngModel)]="timeScate" displayFormat="HH:mm น."></ion-datetime>
                        </ion-col>
                        <ion-col>
                            <ion-label position="stacked">ถึงเวลา</ion-label>
                            <ion-datetime type="date" [(ngModel)]="timeEcate" displayFormat="HH:mm น."></ion-datetime>
                        </ion-col>
                    </ion-row>
                </ion-item>

                <ion-button fill="solid" expand="block" color="dark">
                    <ion-icon name="search"></ion-icon>
                    &nbsp; search
                </ion-button>

            </ion-toolbar>
        </ion-header>


        <ion-content color="dark">
            <!-- <app-accordion-list *ngFor="let technology of technologies" name="{{ technology.name }}" description="{{ technology.description }}" (change)="captureName($event)"></app-accordion-list> -->

            <ion-card *ngFor="let listPost of allPost; let i = index">
                <ion-header>
                    <ion-toolbar color="warning">
                        <ion-row>
                            <ion-title color="dark" size="large">{{listPost.eventname}}
                            </ion-title>
                            <!-- <p>{{listPost.createdAt | date:"medium"}}</p> -->

                            <ion-button color="dark" fill="clear" *ngIf="userId == listPost.userid" size="small" [routerLink]="['/editpost', listPost._id]">
                                <ion-icon name="pencil-outline"></ion-icon>
                            </ion-button>
                            <ion-button color="dark" fill="clear" *ngIf="userId == listPost.userid" size="small" (click)="deletePost(listPost._id)">
                                <ion-icon name="trash-outline"></ion-icon>
                            </ion-button>
                        </ion-row>
                    </ion-toolbar>

                </ion-header>
                <ion-row>
                    <ion-col>

                        <ion-item>
                            <ion-avatar slot="start">
                                <ion-icon size="large" name="person-circle"></ion-icon>

                            </ion-avatar>
                            <ion-label>
                                <h2>
                                    {{listPost.name}} </h2>
                                <p>โพสเมื่อ {{ listPost.createdAt | date: "dd/MM/yyyy HH:mm" }}</p>

                                <p>ต้องการ {{listPost.amount}} คน</p>
                                <!-- <p>{{ data_user_login._id }}</p> -->
                            </ion-label>
                        </ion-item>
                    </ion-col>
                    <ion-row>

                    </ion-row>
                </ion-row>

                <ion-card-content>
                    <ion-label color="dark">{{listPost.description}}</ion-label>
                </ion-card-content>


                <ion-footer>

                    <ion-row>
                        <ion-col>
                            <!-- <ion-button fill="outline" color="dark"> -->
                            <!-- <ion-icon name="fast-food-outline"></ion-icon> -->
                            &nbsp;
                            <ion-label>หมวดหมู่ : {{listPost.type}}</ion-label>
                            <!-- </ion-button> -->
                        </ion-col>
                        <ion-col>
                            <!-- <ion-button fill="outline" color="dark"> -->
                            <ion-label>สถานที่ : {{listPost.place}}</ion-label>
                            <!-- </ion-button> -->
                        </ion-col>
                    </ion-row>

                    <ion-row>
                        <ion-col>
                            <ion-button fill="outline" color="dark">
                                <ion-col class="ion-text-center">
                                    <ion-label>
                                        {{listPost.datetime | date: "dd/MM/yyyy"}} {{listPost.starttime | date: "HH:mm"}} ถึง {{listPost.endtime | date: "HH:mm"}}
                                    </ion-label>
                                </ion-col>
                            </ion-button>
                        </ion-col>

                        <ion-col class="ion-text-center">
                            <ion-button expand="block" color="primary">
                                <ion-icon name="location-outline"></ion-icon>
                            </ion-button>
                            <ion-button expand="block" color="success" (click)="presentModal(listPost.eventname, listPost._id, listPost.userid)">
                                <ion-icon name="chatbox-ellipses"></ion-icon>
                            </ion-button>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col class="ion-text-center" *ngIf="listPost.userid != userId">
                            <ion-button expand="block" (click)="addtojoin(listPost._id)" [color]="buttonColor">
                                <div>สนใจ</div>
                            </ion-button>
                        </ion-col>
                        <ion-col class="ion-text-center">
                            <ion-list>
                                <!-- <ion-button (click)="Join()" color="primary">
                                    <p>สนใจ</p>
                                </ion-button> -->
                                <ion-button *ngIf="" (click)="notJoin(listPost._id)" color="danger">
                                    <p>ยกเลิก</p>
                                </ion-button>
                            </ion-list>
                        </ion-col>

                    </ion-row>


                </ion-footer>
            </ion-card>

            <ion-fab horizontal="end" vertical="bottom" slot="fixed">
                <ion-fab-button color="warning">
                    <ion-icon md="caret-back" ios="chevron-up-circle-outline"></ion-icon>
                </ion-fab-button>
                <ion-fab-list side="start">
                    <ion-fab-button color="light" href="post">
                        <ion-icon name="add"></ion-icon>
                    </ion-fab-button>
                </ion-fab-list>
            </ion-fab>
        </ion-content>
    </div>
</ion-app>